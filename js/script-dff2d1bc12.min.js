!function(){"use strict";const e=["I","V","X","L","C","D","M"],t=t=>e.some((e=>String(t).includes(e))),n=e=>-1!==String(e).search(/[0-9]+/),r=e=>String(e).match(/[0-9]/g).join(""),l=e=>new RegExp(/^M{0,3}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/).test(String(e)),o=e=>e>0&&e<4e3,c={1:"I",5:"V",10:"X",50:"L",100:"C",500:"D",1e3:"M"},u={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},i=document.querySelector(".converter__input"),s=document.querySelector(".converter__output");let g=i.value;i.addEventListener("input",(a=>{a.preventDefault();const p=a.target.selectionStart,h=g.length,m=(c=>{if(""===c)return"";let u=c.toUpperCase();return t(u)?(n(u)&&n(g)?(u=r(u),o(u)||(u=g)):(u=(t=>String(t).match(new RegExp(`[${e.join("")}]`,"g")).join(""))(u),l(u)||(u=g)),l(u)||(u=g)):n(u)?(u=r(u),o(u)||(u=g)):u="",g=u,u})(i.value);var C;i.value=m,m.length===h?i.setSelectionRange(m.length,m.length):i.setSelectionRange(p,p),s.textContent=""===(C=m)?"":`  =  ${(e=>{if(""===e)return"";const r=e.toUpperCase();let l;return n(r)&&(l=(e=>{let t="";const n=String(e).split("").map((e=>Number(e)));return n.forEach(((e,r)=>{let l;const o=String(e*10**(n.length-1-r)),u=Number(o[0]),i=o.length-1;if(0!==u){if(u>=1&&u<=3&&(l=`${c[o/u].repeat(u)}`),4===u&&(l=`${c[Number(o)-3*10**i]}${c[Number(o)+10**i]}`),5===u&&(l=`${c[o]}`),u>=6&&u<=8){const e=Number(o)-(u-5)*10**i;l=`${c[e]}${c[e-4*10**i].repeat(u-5)}`}9===u&&(l=`${c[Number(o)-8*10**i]}${c[Number(o)+10**i]}`),t+=l}})),t})(r)),t(r)&&(l=(e=>{let t=e,n=0;for(;t.length>0;){const e=t.slice(0,2);Object.prototype.hasOwnProperty.call(u,e)?(n+=u[e],t=t.slice(2,t.length)):(n+=u[t[0]],t=t.slice(1,t.length))}return n})(r)),l})(C)}`}))}();